<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-image/iron-image.html">
<link rel="import" href="../iron-icon/iron-icon.html">

<!--
`adom-header` is component for to use in top header of website. You can add a title, logo, social icons...

`adom-header`.

Example:

    <adom-header title="Your title" logo="your-logo.jpg">
    </adom-header>

### Styling

The following custom properties and mixins are available for styling:

Custom property | Description | Default
----------------|-------------|----------
`--adom-header-wrapper` | Mixin applied to wrapper of header | `{}`
`--adom-header-social` | Mixin applied to social content | `{}`
`--adom-header-social-color` | Color of social content | `#fff`
`--adom-header-social-background` | background color of social content | `{}`
`--adom-header-header` | background color of social content | `{}`
`--adom-header-social-background` | background color of social content | `{}`
`--adom-header-social-background` | background color of social content | `{}`

This element applies the mixin `--paper-font-common-base` but does not import `paper-styles/typography.html`.
In order to apply the `Roboto` font to this element, make sure you've imported `paper-styles/typography.html`.

@demo demo/index.html
-->

<dom-module id="adom-header">
  <template>
    <style>

      :host(.vertical) .wrapper {
        width: 300px;
        flex: 1 1 auto;
        @apply(--adom-header-wrapper);
      }
      :host(.vertical) img {
        width: 100%;
      }
      :host(.vertical) .header {
        width:100%;
        padding:0.5em;
        box-sizing: border-box;
        display:inline-block;
        color: var(--adom-header-color, #fff);
        background: var(--adom-header-background, #4184F3);
        @apply(--adom-header-header);
      }
      :host(.vertical) .logo {
        width: 100%;
        @apply(--adom-header-logo);
      }
      :host(.vertical) .content {
        width:100%;
        @apply(--adom-header-content);
      }

      :host(.social) .wrapper{
        -webkit-box-shadow: 0px 2px 5px 1px rgba(166,166,166,0.75);
        -moz-box-shadow: 0px 2px 5px 1px rgba(166,166,166,0.75);
        box-shadow: 0px 2px 5px 1px rgba(166,166,166,0.75);
        @apply(--adom-header-wrapper);
      }


      .wrapper {
        @apply(--adom-header-wrapper);
      }
      .top {
        width:100%;
        -webkit-flex-direction: row;
        flex-direction: row;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        padding:0.5em;
        box-sizing: border-box;
        color: var(--adom-header-top-color, #fff);
        background: var(--adom-header-top-background, #2ba14b);
        @apply(--adom-header-top);
      }
      .header {
        width:100%;
        -webkit-flex-direction: row;
        flex-direction: row;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        padding:0.5em;
        box-sizing: border-box;
        color: var(--adom-header-color, #fff);
        background: var(--adom-header-background, #4184F3);
        @apply(--adom-header-header);
      }
      .icon-navigation {
        padding:1em;
        cursor: pointer;
        @apply(--adom-header-icon-navigation);
      }
      .logo {
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
        width: 30%;
        @apply(--adom-header-logo);
      }
      .content {
        margin-left: auto;
        @apply(--adom-header-content);
      }
      [hidden] {
        display: none;
      }
    </style>
    <header class="wrapper">
      <div class="top" hidden$="[[!topHeader]]">
        <content select=".top-header"></content>
      </div>
      <div class="header">
        <iron-icon icon="{{iconNavigation}}" class="icon-navigation" hidden$="{{_navigationHidden()}}" on-tap="_onNavigationChange"></iron-icon>
        <div class="logo">
          <template id="logo-template" is="dom-if" if="{{logoSrc}}">
            <img id="imgLogo" src="{{logoSrc}}" />
          </template>
          <template is="dom-if" if="{{title}}">
            <h2 id="title">[[title]]</h2>
          </template>
        </div>
        <div class="content">
          <content></content>
        </div>
      </div>
    </header>
  </template>

  <script>
    Polymer({

      is: 'adom-header',

      properties: {
        /**
         * It Show a top header container for social icons, information...
         * It allow insert your content with top-header class
         */
        topHeader: {
          type: Boolean,
          value:false
        },
        /**
         * name icon for navigation.
         */
        iconNavigation: {
          type: String,
          value: ''
        },
        /**
         * Title of header.
         */
        title: {
          type: String
        },
        /**
         * The URL of logo.
         */
        logoSrc: {
          type: String
        },
        vertical: {
          type: Boolean,
          observer: "_onVerticalChange"
        }
      },
      ready: function() {
        
      },
      _onNavigationChange: function() {
        alert('Hola, pasa por aqu√≠')
      },
      _onVerticalChange : function(vertical) {
        if(vertical) {
          this.classList.add("vertical")
        }
      },
      _navigationHidden : function() {
        var icon = Polymer.dom(this.root).querySelector('iron-icon').icon;
        console.log(icon)
        if(icon) {
          return false;
        }
        return true;
      }

    });
  </script>
</dom-module>
